{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\Tugas_Assigment4_Amin\\\\frontend\\\\src\\\\Pages\\\\Admin\\\\AdminPage.tsx\",\n    _s = $RefreshSig$();\n\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminPage() {\n  _s();\n\n  const [data, setData] = useState();\n  const [selectedUser, setSelectedUser] = useState();\n  useEffect(() => {\n    Axios.get(\"http://localhost:8000/getalluser\", {\n      withCredentials: true\n    }).then(res => {\n      setData(res.data);\n    });\n  }, []);\n\n  if (!data) {\n    return null;\n  }\n\n  const deleteUser = () => {\n    let userid;\n    data.forEach(item => {\n      if (item.username === selectedUser) {\n        userid = item.id;\n      }\n    });\n    console.log(userid);\n    Axios.post(\"http://localhost:8000/deleteuser\", {\n      id: userid\n    }, {\n      withCredentials: true\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Admin page hanya admin  yang bisa lihat \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => setSelectedUser(e.target.value),\n      name: \"deleteuser\",\n      id: \"deleteuser\",\n      \"aria-label\": \"deleteuser\",\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        id: \"Pilih User\",\n        children: \"Pilih Data User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this), data.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          id: item.username,\n          children: item.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deleteUser,\n      children: \"Delete User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AdminPage, \"jHHdnXcWQyPWgu36mLIIA9C4RwM=\");\n\n_c = AdminPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["Axios","React","useEffect","useState","AdminPage","data","setData","selectedUser","setSelectedUser","get","withCredentials","then","res","deleteUser","userid","forEach","item","username","id","console","log","post","e","target","value","map"],"sources":["C:/Users/PC/Desktop/Tugas_Assigment4_Amin/frontend/src/Pages/Admin/AdminPage.tsx"],"sourcesContent":["import  Axios  from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\n\r\nexport default function AdminPage() {\r\n  const [data, setData] = useState<any>();\r\n  const [selectedUser, setSelectedUser] = useState<string>();\r\n  useEffect(() => {\r\n    Axios.get(\"http://localhost:8000/getalluser\", {\r\n      withCredentials: true\r\n    }).then(res => {\r\n      setData(res.data)\r\n    })\r\n  }, []);\r\n  if (!data) {\r\n    return null;\r\n  }\r\n  \r\n  const deleteUser = () => {\r\n    let userid: any;\r\n    data.forEach((item: any) => {\r\n      if (item.username === selectedUser) {\r\n        userid = item.id\r\n      }\r\n    })\r\n    console.log(userid);\r\n    \r\n\r\n    Axios.post(\"http://localhost:8000/deleteuser\", {\r\n      id: userid     \r\n    }, {\r\n      withCredentials:true\r\n    })\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Admin page hanya admin  yang bisa lihat </h2>\r\n      <select onChange={e => setSelectedUser(e.target.value)} name=\"deleteuser\" id='deleteuser' aria-label='deleteuser'>\r\n      <option id=\"Pilih User\">Pilih Data User</option>\r\n        {\r\n          data.map((item: any) => {\r\n            return (\r\n              <option id={item.username}>{item.username}</option>\r\n          )\r\n        })  \r\n        \r\n        } \r\n      </select>\r\n      <button onClick={deleteUser}>Delete User</button>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;;AAAA,OAAQA,KAAR,MAAoB,OAApB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,eAAe,SAASC,SAAT,GAAqB;EAAA;;EAClC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBH,QAAQ,EAAhC;EACA,MAAM,CAACI,YAAD,EAAeC,eAAf,IAAkCL,QAAQ,EAAhD;EACAD,SAAS,CAAC,MAAM;IACdF,KAAK,CAACS,GAAN,CAAU,kCAAV,EAA8C;MAC5CC,eAAe,EAAE;IAD2B,CAA9C,EAEGC,IAFH,CAEQC,GAAG,IAAI;MACbN,OAAO,CAACM,GAAG,CAACP,IAAL,CAAP;IACD,CAJD;EAKD,CANQ,EAMN,EANM,CAAT;;EAOA,IAAI,CAACA,IAAL,EAAW;IACT,OAAO,IAAP;EACD;;EAED,MAAMQ,UAAU,GAAG,MAAM;IACvB,IAAIC,MAAJ;IACAT,IAAI,CAACU,OAAL,CAAcC,IAAD,IAAe;MAC1B,IAAIA,IAAI,CAACC,QAAL,KAAkBV,YAAtB,EAAoC;QAClCO,MAAM,GAAGE,IAAI,CAACE,EAAd;MACD;IACF,CAJD;IAKAC,OAAO,CAACC,GAAR,CAAYN,MAAZ;IAGAd,KAAK,CAACqB,IAAN,CAAW,kCAAX,EAA+C;MAC7CH,EAAE,EAAEJ;IADyC,CAA/C,EAEG;MACDJ,eAAe,EAAC;IADf,CAFH;EAKD,CAfD;;EAgBA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAQ,QAAQ,EAAEY,CAAC,IAAId,eAAe,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAtC;MAAwD,IAAI,EAAC,YAA7D;MAA0E,EAAE,EAAC,YAA7E;MAA0F,cAAW,YAArG;MAAA,wBACA;QAAQ,EAAE,EAAC,YAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,EAGInB,IAAI,CAACoB,GAAL,CAAUT,IAAD,IAAe;QACtB,oBACE;UAAQ,EAAE,EAAEA,IAAI,CAACC,QAAjB;UAAA,UAA4BD,IAAI,CAACC;QAAjC;UAAA;UAAA;UAAA;QAAA,QADF;MAGH,CAJC,CAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eAaE;MAAQ,OAAO,EAAEJ,UAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAbF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiBD;;GA/CuBT,S;;KAAAA,S"},"metadata":{},"sourceType":"module"}